---
title: 'Recall'
api: 'POST /api/v1/memories/recall'
description: 'Recall memories via API'
authMethod: 'bearer'
---

## Overview

Search and retrieve relevant memories from your agent's memory bank using natural language queries or specific filters.

## Request Body

<ParamField body="query" type="string" required>
  The search query to find relevant memories. Can be natural language or keywords.
</ParamField>

<ParamField body="strategy" type="string" default="llm">
  Search strategy to use. Options: "llm" (semantic search).
</ParamField>

<ParamField body="limit" type="integer" default="5">
  Maximum number of memories to return. Default is 5.
</ParamField>

<ParamField body="user_id" type="string">
  Filter memories by specific user ID.
</ParamField>

<ParamField body="session_id" type="string">
  Filter memories by specific session ID.
</ParamField>

<ParamField body="filters" type="object">
  Additional filters to apply to the search as key-value pairs.
</ParamField>

## Response

Returns an array of relevant memories matching your query, sorted by relevance.

## Examples

### Basic Search

<CodeGroup>

```python Python
import requests

url = "https://api.agent-mind.com/api/v1/memories/recall"
headers = {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
}
data = {
    "query": "user preferences",
    "limit": 10
}

response = requests.post(url, json=data, headers=headers)
memories = response.json()
```

```bash cURL
curl -X POST https://api.agent-mind.com/api/v1/memories/recall \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: "application/json" \
  -d '{
    "query": "user preferences",
    "limit": 10
  }'
```

```javascript JavaScript
const response = await fetch('https://api.agent-mind.com/api/v1/memories/recall', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    query: "user preferences",
    limit: 10
  })
});

const memories = await response.json();
```

</CodeGroup>

### User-Specific Search

<CodeGroup>

```python Python
data = {
    "query": "previous purchases",
    "user_id": "customer_123",
    "limit": 5,
    "strategy": "llm"
}

response = requests.post(url, json=data, headers=headers)
```

```bash cURL
curl -X POST https://api.agent-mind.com/api/v1/memories/recall \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type": "application/json" \
  -d '{
    "query": "previous purchases",
    "user_id": "customer_123",
    "limit": 5,
    "strategy": "llm"
  }'
```

</CodeGroup>

### With Custom Filters

<CodeGroup>

```python Python
data = {
    "query": "support issues",
    "user_id": "user_456",
    "session_id": "session_789",
    "filters": {
        "category": "support",
        "priority": "high",
        "resolved": False
    },
    "limit": 20
}

response = requests.post(url, json=data, headers=headers)
```

```bash cURL
curl -X POST https://api.agent-mind.com/api/v1/memories/recall \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type": "application/json" \
  -d '{
    "query": "support issues",
    "user_id": "user_456",
    "session_id": "session_789",
    "filters": {
      "category": "support",
      "priority": "high",
      "resolved": false
    },
    "limit": 20
  }'
```

</CodeGroup>

## Response Example

```json
{
  "memories": [
    {
      "id": "mem_abc123",
      "content": "User prefers email notifications over SMS",
      "user_id": "user_123",
      "metadata": {
        "category": "preferences",
        "type": "communication"
      },
      "relevance_score": 0.95,
      "created_at": "2024-03-20T10:30:00Z"
    },
    {
      "id": "mem_def456",
      "content": "User's timezone is PST",
      "user_id": "user_123",
      "metadata": {
        "category": "preferences",
        "type": "settings"
      },
      "relevance_score": 0.87,
      "created_at": "2024-03-19T15:45:00Z"
    }
  ],
  "count": 2
}
```

## Error Responses

### 400 Bad Request

```json
{
  "error": "Query parameter is required"
}
```

### 401 Unauthorized

```json
{
  "error": "Invalid or missing API key"
}
```

### 500 Internal Server Error

```json
{
  "error": "Failed to recall memories"
}
```